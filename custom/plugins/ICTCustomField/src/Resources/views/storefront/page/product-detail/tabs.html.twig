{% sw_extends '@Storefront/storefront/page/product-detail/tabs.html.twig' %}

{% block page_product_detail_tabs_inner %}
{% set ict_custom_field_media = page.product.translated.customFields['ict_custom_field_media'] %}
    <div class="card card-tabs">
        {% block page_product_detail_tabs_navigation %}
            <div class="card-header product-detail-tab-navigation">
                {% block page_product_detail_tabs_navigation_container %}
                    <ul class="nav nav-tabs product-detail-tab-navigation-list"
                        id="product-detail-tabs"
                        role="tablist">
                        {% block page_product_detail_tabs_navigation_description %}
                            {{ parent() }}
                        {% endblock %}
                        {% if ict_custom_field_media %}
                            {% block custom_page_product_detail_tabs_navigation %}
                                <li class="nav-item">
                                    <a
                                            class="nav-link {% if (ratingSuccess == 1) or (ratingSuccess == -1) %}active{% endif %} product-detail-tab-navigation-link"
                                            id="custom-description-tab"
                                            data-bs-toggle="tab"
                                            {# @deprecated tag:v6.6.0 - Registering plugin on selector "data-offcanvas-tabs" is deprecated. Use "data-off-canvas-tabs" instead #}
                                            {% if feature('v6.6.0.0') %}
                                                data-off-canvas-tabs="true"
                                            {% else %}
                                                data-offcanvas-tabs="true"
                                            {% endif %}
                                            href="#custom-description-tab-pane"
                                            role="tab"
                                            aria-controls="custom-description-tab-pane"
                                            aria-selected="true"
                                    >
                                        <span>{{ "Custom Tab" }}</span>
                                        <span class="product-detail-tab-navigation-icon">
                                        {% sw_icon 'arrow-medium-right' style {'pack':'solid'} %}
                                        </span>
                                    </a>
                                </li>
                            {% endblock %}
                        {% endif %}
                        {% block page_product_detail_tabs_navigation_review %}
                            {{ parent() }}
                        {% endblock %}
                    </ul>
                {% endblock %}
            </div>
        {% endblock %}

        {% block page_product_detail_tabs_content %}
            <div class="product-detail-tabs-content card-body">
                {% block page_product_detail_tabs_content_container %}
                    <div class="tab-content">
                        {% block page_product_detail_tabs_content_description %}
                            {{ parent() }}
                        {% endblock %}
                        {% block custom_page_product_detail_tabs_content_description %}
                            <div class="tab-pane fade show {% if (ratingSuccess == 1) and (ratingSuccess == -1) %}active{% endif %}"
                                 id="custom-description-tab-pane"
                                 role="tabpanel"
                                 aria-labelledby="custom-description-tab">
                                {% if ict_custom_field_media %}
                                    {% set imageUrl = page.extensions.ictCustomFieldMedia.ictMedia[ict_custom_field_media].url | replace({' ': ''})%}
                                    {% if imageUrl %}
                                        <img src={{ imageUrl }}>
                                    {% endif %}
                                {% endif %}
                            </div>
                        {% endblock %}

                        {% block page_product_detail_tabs_content_review %}
                            {{ parent() }}
                        {% endblock %}
                    </div>
                {% endblock %}
            </div>
        {% endblock %}
    </div>
{% endblock %}
